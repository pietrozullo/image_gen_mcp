# Gemini Image Generator MCP Server

Generate high-quality images from text prompts using Google's Gemini model through the MCP protocol.

![Hero Image](examples/hero_image.png)
*This image was generated by this MCP server*

[![Try it Live](https://cdn.mcp-use.com/UseLiveSmall.svg)](https://inspector.mcp-use.com/inspector?server=https%3A%2F%2Fkgrfmi096y5c.deploy.mcp-use.com%2Fmcp)

Built with [mcp-use](https://mcp-use.com).

## Quick Connect

Connect to the live server:
```
https://kgrfmi096y5c.deploy.mcp-use.com/mcp
```

Or click the badge above to open in the MCP Inspector.

## Overview

This MCP server allows any AI assistant to generate images using Google's Gemini AI model. The server handles prompt engineering, image generation, and provides both visual output and download URLs for programmatic access.

## Features

- Text-to-image generation using Gemini
- Image-to-image transformation based on text prompts
- Download URLs for programmatic image access
- High-resolution image output
- Cloud-ready deployment

## Available MCP Tools

### `generate_image_from_text`

Generate an image based on the given text prompt using Google's Gemini model.

**Parameters:**
| Name | Type | Required | Description |
|------|------|----------|-------------|
| `prompt` | string | Yes | User's text prompt describing the desired image to generate |

**Returns:**
- Generated image (displayed visually)
- Download URL for programmatic use

**Example:**
```
prompt: "A futuristic Greek temple with neon lights and holographic elements"
```

![Greek Futuristic](examples/greek_futuristic.png)

---

### `transform_image`

Transform an existing image based on the given text prompt using Google's Gemini model.

**Parameters:**
| Name | Type | Required | Description |
|------|------|----------|-------------|
| `encoded_image` | string | Yes | Base64 encoded image data with header. Must be in format: `data:image/[format];base64,[data]` where format can be: png, jpeg, jpg, gif, webp, etc. |
| `prompt` | string | Yes | Text prompt describing the desired transformation or modifications |

**Returns:**
- Transformed image (displayed visually)
- Download URL for programmatic use

**Example:**
```
encoded_image: "data:image/png;base64,iVBORw0KGgo..."
prompt: "Add a cute baby whale flying alongside"
```

**Before:**
![Flying pig over sci-fi city](examples/flying_pig_scifi_city.png)

**After:**
![Flying pig with baby whale](examples/pig_cute_baby_whale.png)

## Self-Hosting

### Prerequisites

- Python 3.11+
- Google AI API key (Gemini)

### Getting a Gemini API Key

1. Visit [Google AI Studio API Keys page](https://aistudio.google.com/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy your new API key

### Installation

1. Clone the repository:
```bash
git clone https://github.com/pietrozullo/image_gen_mcp.git
cd image_gen_mcp
```

2. Install dependencies:
```bash
pip install -r requirements.txt
```

3. Set environment variables:
```bash
export GEMINI_API_KEY="your-gemini-api-key"
export MCP_URL="https://your-public-url"  # Optional: for download URLs
```

4. Run the server:
```bash
python server.py
```

The server will start on port 3000 by default.

### Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `GEMINI_API_KEY` | Your Google Gemini API key | Required |
| `PORT` | Server port | 3000 |
| `MCP_URL` | Public URL base for image download links | `http://localhost:3000` |
| `IMAGE_STORAGE_DIR` | Directory to store generated images | System temp dir |

## Development

Run with debug mode for the inspector UI:

```bash
DEBUG=1 python server.py
```

This enables:
- `/inspector` - Interactive debugging interface
- `/docs` - API documentation
- `/openmcp.json` - Server metadata

## License

MIT License
